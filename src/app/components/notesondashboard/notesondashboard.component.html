<!-- pin -->
<div [ngClass]="main"  fxLayoutGap='2%'  >
<div class="loop" *ngFor="let note of noteCards|search:search " cdkDrag>
    <mat-card  *ngIf = "note.isPin == true && note.isArchive == false" fxLayoutGap="20px" class="note" [style.background-color]=note.color> 
<div  class="element.style">
    <mat-icon class="pin" (click)='unpinnote(note)'>
        <img src="../../../assets/image/pinAfterClick(1).svg"/>
      </mat-icon>    
  <div > 
      <img style="width: 100%"  src="{{note.image}}" />
  </div>
  <div>
    <mat-card-title (click)="openDialog(note)" class="titleinput">{{note.title}}</mat-card-title>
    </div>
    <div>
    <mat-card-content (click)="openDialog(note)" class="noteinput ">{{note.description}}</mat-card-content>
    </div>
    <div *ngIf = "note.reminder != null"> 
          <mat-chip-list>
              <mat-chip [selectable]="selectable" [removable]="removable"  >
                {{note.reminder | date:'medium'}} 
                 <mat-icon matChipRemove (click)="removeReminder(note)">cancel</mat-icon>
              </mat-chip>
            </mat-chip-list>
      </div>

      <!-- <div>
      <mat-chip-list>
          <mat-chip [selectable]="selectable" [removable]="removable"  >
            {{receiverEmail}}
            <mat-icon matChipRemove (click)="removeCollab(note)">cancel</mat-icon>
          </mat-chip>
        </mat-chip-list>
      </div> -->

        <div>
          <mat-icon class="material-icons" matTooltip={{receiverEmail}}>account_circle</mat-icon>
        </div>
      <div *ngFor="let notelables of notesLabels">
          <div *ngIf= "notelables.noteId == note.id">
            <div *ngFor= "let labels of allLabels">
              <div *ngIf= "labels.id == notelables.lableId">
                  <mat-chip-list>
                      <mat-chip [selectable]="selectable" [removable]="removable"  >
                        {{labels.label}} 
                         <mat-icon matChipRemove (click)="remove(notelables.id)">cancel</mat-icon>
                      </mat-chip>
                    </mat-chip-list>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="cond=='trash'">
            <button mat-icon-button  [matMenuTriggerFor]="trashmenu" class="buttonOutline" >
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #trashmenu="matMenu">
                  <button mat-menu-item (click)="DeleteForever(note)" class="buttonOutline">Delete forever</button>
                  <button mat-menu-item (click)="Restore(note)" class="buttonOutline">Restore</button>
                </mat-menu>
          </div>
          <div *ngIf='cond!="trash"'>
              <app-iocns-on-note [card]="note" (update)='updateCome($event)' [type]='type'></app-iocns-on-note>
    </div>
  </div> 
  </mat-card>
  </div>
</div>

<!-- unpin -->
<div [ngClass]="main"  fxLayoutGap='2%' cdkDropList  (cdkDropListDropped)="drop($event)" >
    <div class="loop" *ngFor="let note of noteCards |search:search " cdkDrag >

        <mat-card  *ngIf = "note.isPin == false" fxLayoutGap="20px" class="note" [style.background-color]=note.color> 
    <div  class="element.style">
        <mat-icon class="pin" (click)='pinnote(note)'>
            <img src="../../../assets/image/pinBeforeClick.svg"/>
          </mat-icon>    
      <div class="image"> 
          <img style="width: 100%" src="{{note.image}}" class="notesImage"/>
      </div>
      <div>
        <mat-card-title (click)="openDialog(note)" class="titleinput">{{note.title}}</mat-card-title>
        </div>
        <div>
        <mat-card-content (click)="openDialog(note)" class="noteinput ">{{note.description}}</mat-card-content>
        </div>
        <div *ngIf = "note.reminder != null"> 
              <mat-chip-list>
                  <mat-chip [selectable]="selectable" [removable]="removable"  >
                    {{note.reminder | date:'medium'}} 
                     <mat-icon matChipRemove (click)="removeReminder(note)">cancel</mat-icon>
                  </mat-chip>
                </mat-chip-list>
          </div>         
              <div>
                <mat-icon class="material-icons" matTooltip={{receiverEmail}}>account_circle</mat-icon>
              </div>
          <div *ngFor="let notelables of notesLabels">
              <div *ngIf= "notelables.noteId == note.id">
                <div *ngFor= "let labels of allLabels">
                  <div *ngIf= "labels.id == notelables.lableId">
                    <mat-chip-list>
                      <mat-chip [selectable]="selectable" [removable]="removable"  >
                        {{labels.label}} 
                        <mat-icon matChipRemove (click)="remove(notelables.id)">cancel</mat-icon>
                      </mat-chip>
                    </mat-chip-list>
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="cond=='trash'">
                <button mat-icon-button  [matMenuTriggerFor]="trashmenu">
                    <mat-icon >more_vert</mat-icon>
                  </button>
                  <mat-menu #trashmenu="matMenu">
                      <button mat-menu-item (click)="DeleteForever(note)">Delete forever</button>
                      <button mat-menu-item (click)="Restore(note)">Restore</button>
                    </mat-menu>
              </div>
              <div *ngIf='cond!="trash"'>
          <app-iocns-on-note [card]="note" (update)='updateCome($event)' [type]='type'></app-iocns-on-note>
       </div>
        </div>       
      </mat-card>
      </div>
    </div>